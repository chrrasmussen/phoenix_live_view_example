import ErlangPrelude
import PhoenixLiveView


%inline
counter : PhoenixLiveView Int
counter =
  MkPhoenixLiveView
    (pure 0)
    (\event, model =>
      case event of
        "inc" => pure $ model + 1
        "dec" => pure $ model - 1
    )
    (\model =>
      let assigns = insert (MkErlAtom "val") model empty
      in renderTemplate "Elixir.DemoWeb.BlodwenCounterView" "index.html" assigns)

exports : ErlExports
exports =
  exportPhoenixLiveView counter
